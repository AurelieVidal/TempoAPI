{% extends "base_template.html" %}

{% block title %}Email Valid√©{% endblock %}

{% block main %}
    <h2>Change ton mot de passe</h2>
    <p>
        Une connexion suspecte ne venant pas de toi a √©t√© d√©tect√©e üò¨, nous te conseillons vivement de changer ton mot de passe
        <br/>
        Nous t'invitons √† remplir les champs suivants&nbsp;:
    </p>

    <div class="input_form">
        <form id="passwordForm">
            <input type="hidden" id="userId" value="{{ user_id }}" >
            <p class="label">Ton pseudo</p>
            <div class="password-container">
                <input type="text" id="usernameInput">
            </div>
            <p class="label">Ton mot de passe actuel</p>
            <div class="password-container">
                <input type="password" id="passwordInput">
                <span class="toggle-password" id="toggleOldPassword" onclick="togglePasswordVisibility('passwordInput', this)">
                    <i class="fas fa-eye"></i>
                </span>
            </div>
            <p class="label">Ton nouveau mot de passe</p>
            <div class="password-container">
                <input type="password" id="newPassword">
                <span class="toggle-password" id="toggleNewPassword" onclick="togglePasswordVisibility('newPassword', this)">
                    <i class="fas fa-eye"></i>
                </span>

            </div>
            <p id="password-message" class="error"></p>

            <p class="label">Confirme ton nouveau mot de passe</p>
            <div class="password-container">
                <input type="password" id="confirmNewPassword">
                <span class="toggle-password" id="toggleConfirmPassword" onclick="togglePasswordVisibility('confirmNewPassword', this)">
                    <i class="fas fa-eye"></i>
                </span>
            </div>
            <button type="submit">Changer mon mot de passe</button>
        </form>
        <p class="error" id="error-message">Attention, tu n'a pas renseign√© le code...</p>
    </div>
{% endblock %}

{% block scripts %}
    <script src="{{ url_for('static', filename='js/change_password.js') }}"></script>
{% endblock %}

